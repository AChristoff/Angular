<h1>Register</h1>

<div *ngIf="spinner" class="spinner">
  <mat-spinner></mat-spinner>
</div>

<form *ngIf="confirm === false; else confirmMessage" [formGroup]="form" (submit)="onRegister()" class="register-form">
  
  <div class="form-group group-email">
    
    <mat-form-field class="example-full-width">
      <mat-label>Email</mat-label>
      
      <input
        required
        matInput
        formControlName="email"
        type="email"
        placeholder="Ex. john@example.com">
      
      <mat-icon matSuffix>mail_outline</mat-icon>
      
      <mat-error *ngIf="f.email.touched && f.email.errors?.required">This field is required</mat-error>
      <mat-error *ngIf="f.email.errors?.pattern">Email is invalid</mat-error>
    
    </mat-form-field>
  
  </div>
  
  <button type="submit"
          [disabled]="form.invalid"
          mat-raised-button
          color="primary"
          class="register-btn">Register
  </button>

</form>

<ng-template #confirmMessage>
  <h3>Congratulations!</h3>
  <h3>Your account has been created!</h3>
  <h3>Please check you Inbox to confirm you email ({{email}})</h3>
</ng-template>
